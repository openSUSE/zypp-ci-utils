#! /bin/bash
set -e
cat <<'EOF' >~/.bashrc
#! /bin/bash
##################################################
# Autogenerated by zypp-ci-utils/hostsetup
##################################################
. ~/zypp-ci-utils/bin/profile.sh
##################################################
C_RED="\[\033[0;31m\]"
C_BLU="\[\033[0;34m\]"
C_GRE="\[\033[0;32m\]"
C_CYA="\[\033[0;36m\]"
C_MAG="\[\033[0;35m\]"
C_YEL="\[\033[0;33m\]"
C_WHI="\[\033[1;37m\]"
C_BLA="\[\033[0;30m\]"
C_DEF="\[\033[0m\]"

function ps1_ret_err() {
  local SRET=$?
  test "$1" == "0" || echo "$1"
  return $SRET
}
function ps1_ret_ok() {
  local SRET=$?
  test "$1" == "0" && echo "$1"
  return $SRET
}

export PATH="/usr/lib/icecc/bin:$PATH"
export PS1="$C_MAG${Z_HOST:-$C_RED!!!NOLABEL!!!}$C_DEF:\W ($C_RED\$(ps1_ret_err \$?)$C_DEF\$(ps1_ret_ok \$?)) \$ "

EOF
. ~/.bashrc
